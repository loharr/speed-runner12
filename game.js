let player=document.getElementById('player');let obstacles=document.getElementById('obstacles');let scoreVal=document.getElementById('scoreVal');let jumping=false;let score=0;
document.addEventListener('keydown',jump);document.addEventListener('touchstart',jump);
function jump(){if(jumping)return;jumping=true;let up=setInterval(()=>{let b=parseInt(window.getComputedStyle(player).bottom);if(b>=120){clearInterval(up);let down=setInterval(()=>{let x=parseInt(window.getComputedStyle(player).bottom);if(x<=40){clearInterval(down);jumping=false;}else{player.style.bottom=x-5+'px';}},20);}else{player.style.bottom=b+5+'px';}},20);}
setInterval(()=>{let obs=document.createElement('div');obs.classList.add('obstacle');obstacles.appendChild(obs);let pos=300;let move=setInterval(()=>{pos-=5;obs.style.left=pos+'px';let pb=parseInt(window.getComputedStyle(player).bottom);if(pos<60&&pos>20&&pb<60){alert('Game Over! Score: '+score);window.location.reload();}if(pos<=-30){clearInterval(move);obs.remove();score++;scoreVal.innerText=score;}},20);},1200);